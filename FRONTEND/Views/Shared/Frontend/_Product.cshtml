@inject DAL.BANNER.BannerDbContext bannerContext

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="SPARKER - Premium directory and listings template by Ansonika.">
    <meta name="author" content="Ansonika">
    <title>@ViewBag.Title</title>
    <!-- Favicons-->
    <link rel="shortcut icon" href="~/FrontEnd/img/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" type="image/x-icon" href="~/FrontEnd/img/apple-touch-icon-57x57-precomposed.png">
    <link rel="apple-touch-icon" type="image/x-icon" sizes="72x72" href="~/FrontEnd/img/apple-touch-icon-72x72-precomposed.png">
    <link rel="apple-touch-icon" type="image/x-icon" sizes="114x114" href="~/FrontEnd/img/apple-touch-icon-114x114-precomposed.png">
    <link rel="apple-touch-icon" type="image/x-icon" sizes="144x144" href="~/FrontEnd/img/apple-touch-icon-144x144-precomposed.png">

    <!-- GOOGLE WEB FONT -->
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" rel="stylesheet">

    <!-- BASE CSS -->
    <link href="~/FrontEnd/css/bootstrap.min.css" rel="stylesheet">
    <link href="~/FrontEnd/css/style.css" rel="stylesheet">
    <link href="~/FrontEnd/css/vendors.css" rel="stylesheet">

    <!-- YOUR CUSTOM CSS -->
    <link href="~/FrontEnd/css/custom.css" rel="stylesheet">

    <!-- Font Awesome Kit - Shafi -->
    <link href="~/fontawesome-free-5.12.1-web/fontawesome-free-5.12.1-web/css/all.css" rel="stylesheet">

    <link href="~/FrontEnd/admin_section/css/admin.css" rel="stylesheet">
    <link href="~/FrontEnd/admin_section/vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <!-- Manifest.json-->
    <link rel="manifest" href="~/manifest.json">

    <!-- Date Time CSS -->
    @await Component.InvokeAsync("DateTimeDropper")
    <!-- End: -->
    <!-- MIM Custom CSS -->
    <link href="~/css/MIMHomePage.css" rel="stylesheet">

    <!-- Begin: Moment Date Time -->
    @await Component.InvokeAsync("MomentDateTimeJsLibrary")
    <!-- End: -->
</head>
<body>
    <div id="page">
        <!-- Begin: Top Menu Shop -->
        @await Component.InvokeAsync("TopMenuShop")
        <!-- End: -->
        <main>
            <div id="results">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-3 col-md-4 col-10">
                        </div>
                        <div class="col-lg-6 col-md-8 col-2">
                            <a href="#0" class="side_panel btn_search_mobile"></a>
                            <!-- /open search panel -->
                            <div class="row no-gutters custom-search-input-2 inner">
                                <div class="col-lg-11">
                                    <div class="form-group">
                                        <input class="form-control" id="searchBar" name="term" type="text" placeholder="Search">
                                        <input type="text" id="GetValue" value="" name="GetValue" hidden />
                                    </div>
                                </div>

                                <div class="col-lg-1">
                                    <form id="searchForm" method="get">
                                        <input type="hidden" name="url" id="url" />
                                        <input type="hidden" name="term" id="term" />
                                        <input type="hidden" name="id" id="id" />
                                        <input type="hidden" name="keyword" id="keyword" />
                                        <input type="submit" id="btnShafiSubmit" value="Search">
                                    </form>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-4 col-10">
                        </div>
                    </div>
                </div>
            </div>
            <!-- Begin: Render Body-->
            <div class="row">
                <div class="container-fluid">
                    <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
                        <div class="carousel-inner">

                            @foreach (var item in bannerContext.Slideshow.OrderBy(x => x.Priority).Take(1))
                            {
                                string image = item.Title + ".jpg";
                                <div class="carousel-item active">
                                    <a href=""><img class="d-block w-100" src="~/FileManager/Slideshow/@image" alt="@item.AltAttribute"></a>
                                </div>
                            }

                            @foreach (var item in bannerContext.Slideshow.OrderBy(x => x.Priority).Skip(1))
                            {
                                string image = item.Title + ".jpg";
                                <div class="carousel-item">
                                    <a href=""><img class="d-block w-100" src="~/FileManager/Slideshow/@image" alt="@item.AltAttribute"></a>
                                </div>
                            }
                        </div>
                        <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                </div>
            </div>
            <main>
                <div class="container">
                    <div class="mim-Box mim-Padding-0 mim-BackgroundColorNone" style="background-color:#f3f3f3; border:none;">
                        <div class="row">
                            <div class="col-6 col-sm-6 col-md-6 col-lg-3">
                                <img src="~/img/placeholder-banner-265-x-115.jpg" class="img-fluid" />
                            </div>
                            <div class="col-6 col-sm-6 col-md-6 col-lg-3">
                                <img src="~/img/placeholder-banner-265-x-115.jpg" class="img-fluid" />
                            </div>
                            <div class="col-6 col-sm-6 col-md-6 col-lg-3 d-none d-sm-block">
                                <img src="~/img/placeholder-banner-265-x-115.jpg" class="img-fluid" />
                            </div>
                            <div class="col-6 col-sm-6 col-md-6 col-lg-3 d-none d-sm-block">
                                <img src="~/img/placeholder-banner-265-x-115.jpg" class="img-fluid" />
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Begin: Banners Double -->
                <div class="container">
                    <div class="mim-Box mim-Padding-0" style="background-color:#f3f3f3; border:none;">
                        <div class="row no-gutters">
                            <div class="col-sm-6 col-lg-6 col-md-6">
                                <img src="~/img/placeholder-banner-690-x-120.jpg" class="img-fluid" />
                            </div>
                            <div class="col-sm-6 col-lg-6 col-md-6 d-none d-sm-block">
                                <img src="~/img/placeholder-banner-690-x-120.jpg" class="img-fluid" />
                            </div>
                        </div>
                    </div>
                </div>
                <!-- End: -->
                @RenderBody()
            </main>
            <!-- End: Render Body-->
        </main>
        <footer class="plus_border">
            <div class="container margin_60_35">
                <div class="row">
                    <!-- Begin: CMS First Menu Component -->
                    <div class="col-lg-2 col-md-6 col-sm-6">
                        <h3 data-target="#collapse_ft_1">Quick Links</h3>
                        <div class="collapse dont-collapse-sm" id="collapse_ft_1">
                            <ul class="links">
                                @await Component.InvokeAsync("CmsFooterMenuOne")
                            </ul>
                        </div>
                    </div>
                    <!-- End: -->
                    <div class="col-lg-2 col-md-6 col-sm-6">
                        <h3 data-target="#collapse_ft_2">Categories</h3>
                        <div class="collapse dont-collapse-sm" id="collapse_ft_2">
                            <ul class="links">
                                <li><a href="#0">Shops</a></li>
                                <li><a href="#0">Hotels</a></li>
                                <li><a href="#0">Restaurants</a></li>
                                <li><a href="#0">Bars</a></li>
                                <li><a href="#0">Events</a></li>
                                <li><a href="#0">Fitness</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 col-sm-6">
                        <h3 data-target="#collapse_ft_3">Contacts</h3>
                        <div class="collapse dont-collapse-sm" id="collapse_ft_3">
                            <ul class="contacts">
                                <li><i class="ti-home"></i>97845 Baker st. 567<br>Los Angeles - US</li>
                                <li><i class="ti-headphone-alt"></i>+39 06 97240120</li>
                                <li><i class="ti-email"></i><a href="#0">info@sparker.com</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 col-sm-6">
                        <h3 data-target="#collapse_ft_4">Keep in touch</h3>
                        <div class="collapse dont-collapse-sm" id="collapse_ft_4">
                            <div id="newsletter">
                                <div id="message-newsletter"></div>
                                <form method="post" action="~/FrontEnd/assets/newsletter.php" name="newsletter_form" id="newsletter_form">
                                    <div class="form-group">
                                        <input type="email" name="email_newsletter" id="email_newsletter" class="form-control" placeholder="Your email">
                                        <input type="submit" value="Submit" id="submit-newsletter">
                                    </div>
                                </form>
                            </div>
                            <div class="follow_us">
                                <h5>Follow Us</h5>
                                <ul>
                                    <li><a href="#0"><i class="ti-facebook"></i></a></li>
                                    <li><a href="#0"><i class="ti-twitter-alt"></i></a></li>
                                    <li><a href="#0"><i class="ti-google"></i></a></li>
                                    <li><a href="#0"><i class="ti-pinterest"></i></a></li>
                                    <li><a href="#0"><i class="ti-instagram"></i></a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- /row-->
                <hr>
                <div class="row">
                    <div class="col-lg-6">
                        <ul id="additional_links">
                            <li><a href="#0">Terms and conditions</a></li>
                            <li><a href="#0">Privacy</a></li>
                            <li><span>© 2018 Sparker</span></li>
                        </ul>
                    </div>
                    <div class="col-lg-6">
                        <ul id="additional_links">
                            <li><a href="#0">Terms and conditions</a></li>
                            <li><a href="~/Home/Privacy">Privacy</a></li>
                            <li><span>© 2018 Sparker</span></li>
                        </ul>
                    </div>
                </div>
            </div>
        </footer>
        <!--/footer-->
    </div>
    <!-- page -->

    <div id="toTop"></div><!-- Back to top button -->
    <!-- COMMON SCRIPTS -->
    <script src="~/FrontEnd/js/common_scripts.js"></script>
    <script src="~/FrontEnd/js/functions.js"></script>
    <script src="~/FrontEnd/assets/validate.js"></script>

    <!-- Map -->
    <script src="http://maps.googleapis.com/maps/api/js"></script>
    <script src="~/FrontEnd/js/map_single_hotel.js"></script>
    <script src="~/FrontEnd/js/infobox.js"></script>

    <!-- INPUT QUANTITY  -->
    <script src="~/FrontEnd/js/input_qty.js"></script>

    <!-- DATEPICKER  -->
    <script>
        $(function () {
            $('input[name="dates"]').daterangepicker({
                autoUpdateInput: false,
                parentEl: '#input-dates',
                opens: 'left',
                locale: {
                    cancelLabel: 'Clear'
                }
            });
            $('input[name="dates"]').on('apply.daterangepicker', function (ev, picker) {
                $(this).val(picker.startDate.format('MM-DD-YY') + ' > ' + picker.endDate.format('MM-DD-YY'));
            });
            $('input[name="dates"]').on('cancel.daterangepicker', function (ev, picker) {
                $(this).val('');
            });
        });
    </script>
    <!-- Begin: jQueryUi Autocomplete. Help Video https://www.youtube.com/watch?v=D5pI_L2BC3A  -->
    <style>
        .ui-autocomplete {
            position: absolute;
            top: 100%;
            left: 0;
            z-index: 1000;
            display: none;
            float: left;
            min-width: 160px;
            padding: 5px 0;
            margin: 2px 0 0;
            list-style: none;
            font-size: 14px;
            text-align: left;
            background-color: #ffffff;
            border: 1px solid #cccccc;
            border: 1px solid rgba(0, 0, 0, 0.15);
            border-radius: 4px;
            -webkit-box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);
            background-clip: padding-box;
        }

            .ui-autocomplete > li > div {
                display: block;
                padding: 3px 20px;
                clear: both;
                font-size: 17px;
                font-family: Arial;
                font-weight: normal;
                line-height: 1.9;
                color: #000000;
                white-space: nowrap;
            }

        /*.ui-state-hover,*/
        .ui-state-active,
        .ui-state-focus {
            text-decoration: none;
            color: #000000;
            font-family: Arial;
            font-size: 16px;
            font-weight: normal;
            background-color: #f5f5f5;
            cursor: pointer;
        }

        .ui-helper-hidden-accessible {
            border: 0;
            clip: rect(0 0 0 0);
            height: 1px;
            margin: -1px;
            overflow: hidden;
            padding: 0;
            position: absolute;
            width: 1px;
        }
    </style>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

    <script>
        $(function () {
        $("#searchBar").autocomplete({
                source: '@Url.Action("FetchKeywords", "SearchEngine")',
                select: function (event, ui) {
                    event.preventDefault();
                    var searchDisplayText = ui.item.value.match(/\((.*)\)/);
                    $(this).val(searchDisplayText[1]);
                    $("#GetValue").val(ui.item.value);
                    $("#keyword").val(searchDisplayText[1]);
                //$("#SearchForm").submit();
                },
                focus: function (event, ui) {
                    event.preventDefault();
                    var searchDisplayText = ui.item.value.match(/\((.*)\)/);
                    $("#searchBar").val(searchDisplayText[1]);
                    $("#GetValue").val(ui.item.value);
                    $("#keyword").val(searchDisplayText[1]);
                },
            minLength: 3
            }).data("ui-autocomplete")._renderItem = function (ul, item) {
                return $("<li></li>")
                    .data("item.autocomplete", item)
                    .append(item.label)
                    .appendTo(ul);
                };
        });

        $("#btnShafiSubmit").click(function () {
            var searchTerm = $("#GetValue").val();
            var term = searchTerm.match("TermStart-(.*)-TermEnd");
            var url = searchTerm.match("UrlStart-(.*)-UrlEnd");
            var id = searchTerm.match("IdStart-(.*)-IdEnd");
            //alert("Search by term: " + term[1]);
            //alert("Search by url: " + url[1]);
            //alert("Search by id: " + id[1]);

            var formAction = "/Search/" + url[1] + "-" + term[1] + "-" + id[1];

            $("#url").val(url[1]);
            $("#term").val(term[1]);
            $("#id").val(id[1]);

            $("#searchForm").attr('action', formAction);
            $("#searchForm").submit();
        });
    </script>
    <script src="https://d19vzq90twjlae.cloudfront.net/leaflet-0.7/leaflet.js"></script>
    <!-- Begin: Add Lazy Load -->
    @await Component.InvokeAsync("LazyLoadImages")
    <!-- End: -->
    <!-- Begin: Moment Date Time -->
    @await Component.InvokeAsync("MomentDateTimeJsLibrary")
    <!-- End: -->
    @RenderSection("Scripts", required: false)
</body>
</html>
